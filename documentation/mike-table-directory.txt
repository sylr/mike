mike-table-directory(1)
=======================

NAME
----
mike-table-directory - mike's directory table

SYNOPSIS
--------

         Column         |           Type           |                        Modifiers                         |                      Description                       
 -----------------------+--------------------------+----------------------------------------------------------+--------------------------------------------------------
  id_inode              | bigint                   | not null default nextval('inode_id_inode_seq'::regclass) | inode unique identifier
  id_inode_parent       | bigint                   |                                                          | identifier of parent inode
  id_user               | integer                  | not null                                                 | owner of the inode
  state                 | smallint                 | not null default (0)::smallint                           | state of the inode, references mike.inode_state
  id_mimetype           | smallint                 | not null default (0)::smallint                           | mimetype of the inode
  name                  | text                     | not null                                                 | name of the inode, limited to 255 characters
  path                  | text                     | not null                                                 | path of the inode
  treepath              | ltree                    | not null                                                 | treepath of the inode
  datec                 | timestamp with time zone | not null default now()                                   | creation timestamp with timezone of the inode
  datem                 | timestamp with time zone |                                                          | last modification timestamp with timezone of the inode
  datea                 | timestamp with time zone |                                                          | last access timestamp with timezone of the inode
  size                  | bigint                   | not null default 0                                       | size in bytes of the inode
  versioning_size       | bigint                   | not null default 0                                       | size in bytes of the inode
  inner_datem           | timestamp with time zone |                                                          | modification date of last updated child directory
  inner_size            | bigint                   | not null default 0                                       | size sum of child directories
  inner_versioning_size | bigint                   | not null default 0                                       | versioning size sum of child directories
  dir_count             | smallint                 | not null default (0)::smallint                           | number of direct child directories
  inner_dir_count       | integer                  | not null default 0                                       | number of child directories
  file_count            | smallint                 | not null default (0)::smallint                           | number of direct child files
  inner_file_count      | integer                  | not null default 0                                       | number of child files

 Indexes:
    "directory_pkey" PRIMARY KEY, btree (id_inode)
    "directory_id_inode_parent_key" UNIQUE, btree (id_inode_parent, name)
    "directory_datec_btree_idx" btree (datec)
    "directory_datem_btree_idx" btree (datem)
    "directory_id_inode_btree_idx" btree (id_inode)
    "directory_id_inode_parent_btree_idx" btree (id_inode_parent)
    "directory_id_user_btree_idx" btree (id_user)
    "directory_mimetype_btree_idx" btree (mimetype)
    "directory_name_btree_idx" btree (name)
    "directory_path_btree_idx" btree (path)
    "directory_treepath_gist_idx" gist (treepath)

 Check constraints:
    "inode_name_check" CHECK (name::text <> ''::text)

 Foreign-key constraints:
    "directory_id_inode_parent_fkey" FOREIGN KEY (id_inode_parent) REFERENCES directory(id_inode) ON DELETE CASCADE

 Referenced by:
    TABLE "directory" CONSTRAINT "directory_id_inode_parent_fkey" FOREIGN KEY (id_inode_parent) REFERENCES directory(id_inode) ON DELETE CASCADE
    TABLE "file" CONSTRAINT "file_id_inode_parent_fkey" FOREIGN KEY (id_inode_parent) REFERENCES directory(id_inode) ON DELETE RESTRICT

 Inherits:
    inode

DESCRIPTION
-----------
Inherits inode. contains all directory inodes of the vfs.

Authors
-------
Written by Sylvain Rabot <sylvain@abstraction.fr>

MIKE
----
Part of the linkmike:mike[1] suite
